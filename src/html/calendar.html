<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#000000">
  <title>Calendar - Resilient</title>
  <link rel="icon" type="image/png" href="favicon.png">

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700;800&display=swap" rel="stylesheet">

  <!-- Line Awesome Icons -->
  <link rel="stylesheet" href="https://maxst.icons8.com/vue-static/landings/line-awesome/line-awesome/1.3.0/css/line-awesome.min.css">

  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <nav id="main-nav"></nav>

  <div class="container">
    <div class="page-header">
      <h1>Dashboard</h1>
      <p class="subtitle">Track your daily entries</p>
    </div>

    <div class="content-area">
      <!-- Calendar Navigation -->
      <div class="calendar-navigation">
        <button id="prevBtn" class="nav-btn"><i class="las la-angle-left"></i></button>
        <div class="month-year">
          <h2 id="month-year-display">November 2025</h2>
        </div>
        <button id="nextBtn" class="nav-btn"><i class="las la-angle-right"></i></button>
      </div>

      <div class="calendar-controls">
        <button id="todayBtn" class="btn-today">Today</button>
        <button id="viewToggleBtn" class="btn-today">Switch to Month View</button>
      </div>

      <!-- Week View -->
      <div id="calendar-week" class="calendar-week">
        <!-- Days will be rendered here by calendar.js -->
      </div>

      <!-- Month View -->
      <div id="calendar-month" class="calendar-month" style="display: none;">
        <!-- Month will be rendered here by calendar.js -->
      </div>

      <!-- Day Details -->
      <div class="day-details-container">
        <div id="day-details" class="day-details">
          <!-- Will be populated by JavaScript -->
        </div>
      </div>
    </div>
  </div>

  <!-- Weight Modal -->
  <div class="modal" id="weightModal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Add Weight</h2>
      </div>
      <form id="weightForm">
        <div class="form-group">
          <label for="weightDate">Date</label>
          <input type="date" id="weightDate" required>
        </div>
        <div class="form-group">
          <label for="weightValue">Weight</label>
          <div class="input-group">
            <input type="number" id="weightValue" step="0.1" placeholder="75.5" required>
            <select id="weightUnit">
              <option value="kg">kg</option>
              <option value="lbs">lbs</option>
            </select>
          </div>
        </div>
        <div class="form-group">
          <label for="weightTime">Time</label>
          <input type="time" id="weightTime" required>
        </div>
        <div class="modal-actions">
          <button type="submit" class="btn-primary">Save</button>
          <button type="button" class="btn-secondary" data-close="weightModal">Cancel</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Gym Modal -->
  <div class="modal" id="gymModal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Gym Attendance</h2>
      </div>
      <form id="gymForm">
        <div class="form-group">
          <label>Did you go to the gym?</label>
          <div class="radio-group">
            <label class="radio-label">
              <input type="radio" name="gym" id="gymYes" value="true" required>
              <span>Yes</span>
            </label>
            <label class="radio-label">
              <input type="radio" name="gym" id="gymNo" value="false" required>
              <span>No</span>
            </label>
          </div>
        </div>
        <div class="modal-actions">
          <button type="submit" class="btn-primary">Save</button>
          <button type="button" class="btn-secondary" data-close="gymModal">Cancel</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Supplements Modal -->
  <div class="modal" id="supplementsModal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Supplements</h2>
      </div>
      <form id="supplementsForm">
        <div class="form-group">
          <label for="supplementsInput">What supplements did you take?</label>
          <textarea id="supplementsInput" rows="4" placeholder="e.g., Vitamin D, Protein, Creatine..."></textarea>
        </div>
        <div class="modal-actions">
          <button type="submit" class="btn-primary">Save</button>
          <button type="button" class="btn-secondary" data-close="supplementsModal">Cancel</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Steps Modal -->
  <div class="modal" id="stepsModal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Daily Steps</h2>
      </div>
      <form id="stepsForm">
        <div class="form-group">
          <label for="stepsInput">How many steps?</label>
          <input type="number" id="stepsInput" placeholder="e.g., 10000" min="0" step="1">
        </div>
        <div class="modal-actions">
          <button type="submit" class="btn-primary">Save</button>
          <button type="button" class="btn-secondary" data-close="stepsModal">Cancel</button>
        </div>
      </form>
    </div>
  </div>

  <script src="js/config.js"></script>
  <script src="js/data.js"></script>
  <script src="js/utils.js"></script>
  <script src="js/ui.js"></script>
  <script src="js/nav.js"></script>
  <script src="js/calendar.js"></script>
  <script src="js/bg-rotator.js"></script>
  <script>
    // Initialize UI for modals on calendar page
    document.addEventListener('DOMContentLoaded', async function() {
      // Show skeletons immediately
      if (typeof showWeekSkeleton === 'function') {
        showWeekSkeleton();
      }
      if (typeof showDayDetailsSkeleton === 'function') {
        showDayDetailsSkeleton();
      }

      // Wait for data to load
      if (typeof initStorage === 'function') {
        await initStorage();
      }

      // Initialize calendar (will replace skeletons with real data)
      if (typeof initCalendar === 'function') {
        initCalendar();
      }

      // Initialize UI for forms/modals
      if (typeof initUI === 'function') {
        await initUI();
      }
    });
  </script>
</body>
</html>
